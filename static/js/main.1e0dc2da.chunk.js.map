{"version":3,"sources":["components/Gallery/style.module.css","components/Modal/style.module.css","components/PhotoCard/style.module.css","components/styleApp.module.css","components/SearchForm/style.module.css","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/services/api.js","components/App.js","index.js"],"names":["module","exports","SearchForm","onSubmit","onChange","InputValue","className","style","searchForm","type","autoComplete","placeholder","name","value","PhotoCard","butFunc","tags","previewURL","likes","views","comments","downloads","largeImageURL","photoCard","src","alt","stats","statsItem","data-largimg","onClick","fullscreenButton","data-tages","Gallery","photoClick","photos","loadFunc","gallery","map","article","key","id","webformatURL","button","defaultProps","Modal","state","isOpen","ModalRef","createRef","EscClick","e","code","props","ButtonMethod","OverlayClick","current","target","window","addEventListener","this","removeEventListener","bigImg","overlay","ref","buttonchik","width","Component","axios","defaults","baseURL","GetPhoto","SearchWord","PageNumber","process","searchQwery","numberP","get","App","pageNumber","modalOpen","largeImgP","tages","stringSearch","errorObj","resetPage","setState","handleChange","handleSubmmit","evt","preventDefault","then","data","hits","catch","error","finally","a","prevState","prevstate","handleClick","currentTarget","dataset","largimg","length","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e0dc2da.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"style_gallery__30l5i\",\"gallery-item\":\"style_gallery-item__39LH7\",\"fullscreenButton\":\"style_fullscreenButton__CULPw\",\"button\":\"style_button__3u5P-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"style_overlay__3QEj3\",\"buttonchik\":\"style_buttonchik__3iw7V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"style_photoCard__1Ko7L\",\"stats\":\"style_stats___ihvG\",\"statsItem\":\"style_statsItem__1QDg2\",\"fullscreenButton\":\"style_fullscreenButton__1MGI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styleApp_app__223-L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"style_searchForm__2DwtZ\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './style.module.css';\n\nconst SearchForm = ({ onSubmit, onChange, InputValue }) => (\n  <form className={style.searchForm} onSubmit={onSubmit}>\n    <input\n      onChange={onChange}\n      type=\"text\"\n      autoComplete=\"off\"\n      placeholder=\"Search images...\"\n      name=\"input\"\n      value={InputValue}\n    />\n  </form>\n);\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  InputValue: PropTypes.string.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './style.module.css';\n\nconst PhotoCard = ({\n  butFunc,\n  tags,\n  previewURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  largeImageURL,\n}) => (\n  <li>\n    <div className={style.photoCard}>\n      <img src={previewURL} alt={tags} />\n\n      <div className={style.stats}>\n        <p className={style.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={style.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={style.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={style.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n\n      {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n      <button\n        data-largimg={largeImageURL}\n        type=\"button\"\n        onClick={butFunc}\n        className={style.fullscreenButton}\n        data-tages={tags}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  </li>\n);\n\nPhotoCard.propTypes = {\n  tags: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  previewURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  butFunc: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport style from './style.module.css';\n\nconst Gallery = ({ photoClick, photos, loadFunc }) => (\n  <>\n    <ul className={style.gallery}>\n      {photos.map(article => (\n        <PhotoCard\n          butFunc={photoClick}\n          likes={article.likes}\n          key={article.id}\n          id={article.id}\n          views={article.views}\n          comments={article.comments}\n          downloads={article.downloads}\n          previewURL={article.webformatURL}\n          tags={article.tags}\n          largeImageURL={article.largeImageURL}\n        />\n      ))}\n    </ul>\n    <button className={style.button} type=\"button\" onClick={loadFunc}>\n      Load more\n    </button>\n  </>\n);\n\nGallery.defaultProps = {\n  photos: [],\n};\n\nGallery.propTypes = {\n  photos: PropTypes.arrayOf(\n    PropTypes.shape({\n      tags: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n      previewURL: PropTypes.string.isRequired,\n    }).isRequired,\n  ),\n  loadFunc: PropTypes.func.isRequired,\n  photoClick: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React, { Component, createRef } from 'react';\n// import style from './style.module.css';\nimport PropTypes from 'prop-types';\nimport style from './style.module.css';\n\nclass Modal extends Component {\n  state = {\n    isOpen: true,\n  };\n\n  ModalRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.EscClick);\n  }\n\n  componentDidUpdate() {\n    window.removeEventListener('keydown', this.EscClick);\n  }\n\n  EscClick = e => {\n    if (e.code !== 'Escape') return;\n    this.props.ButtonMethod();\n  };\n\n  OverlayClick = e => {\n    const { current } = this.ModalRef;\n\n    if (current === e.target) {\n      this.props.ButtonMethod();\n    }\n  };\n\n  render() {\n    const { bigImg, tags, ButtonMethod } = this.props;\n    const { isOpen } = this.state;\n\n    return (\n      isOpen === true && (\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n        <div\n          onClick={this.OverlayClick}\n          className={style.overlay}\n          ref={this.ModalRef}\n        >\n          <button\n            className={style.buttonchik}\n            onClick={ButtonMethod}\n            type=\"button\"\n          />\n          <div className=\"modal\">\n            <img src={bigImg} alt={tags} width={1000} />\n          </div>\n        </div>\n      )\n    );\n  }\n}\nModal.propTypes = {\n  bigImg: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  ButtonMethod: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst GetPhoto = (SearchWord, PageNumber) => {\n  const key = `?key=${process.env.REACT_APP_APIKEY}`;\n  const settings = '&image_type=photo&orientation=horizontal&per_page=12';\n  const searchQwery = `&q=${SearchWord}`;\n  const numberP = `&page=${PageNumber}`;\n  return axios.get(key + settings + searchQwery + numberP);\n};\n\nexport default GetPhoto;\n","import React, { Component } from 'react';\nimport style from './styleApp.module.css';\nimport SearchFrom from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\nimport GetPhoto from './services/api';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    InputValue: '',\n    pageNumber: 1,\n    modalOpen: false,\n    largeImgP: '',\n    tages: '',\n    stringSearch: '',\n    errorObj: null,\n  };\n\n  componentDidMount() {\n    const { InputValue, pageNumber, photos } = this.state;\n    if (photos.length === 0) {\n      GetPhoto(InputValue, pageNumber).then(data =>\n        this.setState({ photos: data.data.hits }),\n      );\n    }\n  }\n\n  resetPage = () => {\n    this.setState({ pageNumber: 1 });\n  };\n\n  handleChange = e => {\n    this.setState({ InputValue: e.target.value });\n  };\n\n  handleSubmmit = evt => {\n    evt.preventDefault();\n    const { InputValue } = this.state;\n    this.setState({ stringSearch: InputValue }, () => {\n      this.setState({ InputValue: '' });\n      const { stringSearch, pageNumber } = this.state;\n      GetPhoto(stringSearch, pageNumber)\n        .then(data =>\n          this.setState({\n            photos: [...data.data.hits],\n            errorObj: null,\n          }),\n        )\n        .catch(error => this.setState({ errorObj: error }))\n        .finally(this.resetPage());\n    });\n  };\n\n  // largeImageURL tags\n  loadFunc = async () => {\n    await this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n    const { stringSearch, pageNumber } = this.state;\n\n    await GetPhoto(stringSearch, pageNumber).then(data =>\n      this.setState(prevstate => ({\n        photos: [...prevstate.photos, ...data.data.hits],\n      })),\n    );\n  };\n\n  handleClick = e => {\n    this.setState({\n      largeImgP: e.currentTarget.dataset.largimg,\n      tages: e.currentTarget.dataset.tages,\n    });\n\n    this.setState(prevState => ({\n      modalOpen: !prevState.modalOpen,\n    }));\n  };\n\n  ButtonMethod = () => {\n    this.setState({ modalOpen: false });\n  };\n\n  render() {\n    const {\n      photos,\n      modalOpen,\n      largeImgP,\n      tages,\n      InputValue,\n      errorObj,\n    } = this.state;\n    return (\n      <div className={style.app}>\n        <SearchFrom\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmmit}\n          InputValue={InputValue}\n        />\n        {errorObj || photos.length < 1 ? (\n          <p>No photo, try something else</p>\n        ) : (\n          <Gallery\n            photoClick={this.handleClick}\n            photos={photos}\n            loadFunc={this.loadFunc}\n          />\n        )}\n        {modalOpen && (\n          <Modal\n            ButtonMethod={this.ButtonMethod}\n            bigImg={largeImgP}\n            tags={tages}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}